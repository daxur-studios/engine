<p>html-map works!</p>
<div style="display: flex">
  <div>
    scale: {{ cameraSpringArmLength() }}px

    <button (click)="cameraSpringArmLength.set(0)">reset scale</button>
  </div>
  <div>
    X: {{ camera.originX() }}, Y: {{ camera.originY() }}
    <button (click)="camera.originX.set(0); camera.originY.set(0)">
      reset position
    </button>
  </div>
</div>
<div
  #wrapper
  id="output"
  class="output large"
  (keyup)="keyup($event)"
  (keydown)="keydown($event)"
  (mousedown)="mousedown($event)"
  (mouseup)="mouseup($event)"
  (mousemove)="mousemove($event)"
  (mouseleave)="mouseleave($event)"
  (mousewheel)="mousewheel($event)"
  (contextmenu)="contextmenu($event)"
  tabindex="0"
>
  <section class="scene">
    <!--Center Point-->
    <div
      style="
        position: absolute;
        top: 0px;
        left: 0px;
        width: 5px;
        height: 5px;
        background-color: red;
      "
    ></div>
    <div
      style="
        position: absolute;
        width: 0.5px;
        height: 0.5px;
        background-color: blue;
      "
      [ngStyle]="{
      top: camera.cameraY() + 'px',
       left: camera.cameraX() + 'px',
    }"
    ></div>

    <!--Background Tiles-->
    @for (tile of backgroundTiles(); track $index) {
    <div
      class="tile"
      [ngStyle]="{
          width: tile.width + 'px',
          height: tile.height + 'px',
          transform: 'translate(' + tile.position.x + 'px, ' + tile.position.y + 'px)',
        }"
    ></div>
    }
    <!--Draggable Boxes-->
    @for (node of nodes; track $index) {
    <div
      id="example-element"
      class="transition-all node"
      cdkDrag
      [cdkDragFreeDragPosition]="{ x: node.position.x, y: node.position.y }"
      [cdkDragConstrainPosition]="dragConstrainPoint"
      (cdkDragMoved)="nodeDragMoved($event, node)"
      (cdkDragEnded)="nodeDragEnded($event, node)"
    >
      <div class="face front">1</div>
      <div class="face back">2</div>
      <div class="face right">3</div>
      <div class="face left">4</div>
      <div class="face top">5</div>
      <div class="face bottom">6</div>
    </div>
    }
  </section>
</div>
